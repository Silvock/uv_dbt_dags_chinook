version: 2


.sql
stg_chin__invoice_lines.sql
stg_chin__invoices.sql
stg_chin__mediatypes.sql
stg_chin__playists_tracks.sql
stg_chin__playlists.sql
stg_chin__reports_from_emp.sql
stg_chin__tracks.sql

models:
  - name: stg_chin__albums
    description: "This model contains information about albums"
    columns:
      - name: album_id
        description: "Primary key, unique identifier for each album"
        tests:
            - unique
            - not_null
      - name: Title
        description: "information about titles of albums"
      - name: artist_id
        description: "Foreign key linking the album to the corresponding artist."
        tests:
          - relationships:
              name: artist_id_foreign_key_in_stg_chin_album
              to: ref('stg_chin__artists')
              field: ArtistId
      - name: _cleaned_title
        description: "Name of the album with the first letter in upper case"
      - name: _nb_char_in_title
        description: "Count the number of character in the album title"


  - name: stg_chin__artists
    description: "This model contains information about artists"
    columns:
      - name: ArtistID
        description: "Primary key, unique identifier for each artist."
        tests:
            - unique
            - not_null
      - name: Name
        description: "information about the name of the artists"
      - name: _cleaned_name
        description: "Make sure the name of the artist start with an upper case"
      - name: _nb_char_name
        description: "Count the number of character in the name of the artist"
      - name: _snd_name
        description: "Convert the name of the artist in sound characters"

  - name: stg_chin__customers
    description: "This model contains information about each customers"
    columns:
      - name: CustomerId
        description: "Primary key, unique identifier for each customer."
        tests:
            - unique
            - not_null
      - name: SupportRepId
        description: "Foreign key linking the order item to the corresponding order."
        tests:
          - relationships:
              name: supportrepid_foreign_key_in_stg_chin__employees
              to: ref('stg_chin__reports_from_emp')
              field: EmployeeId
      - name: FirstName
        description: "The firstname of the customer"
      - name: LastName
        description: "The lastname of the customer"
      - name: Company
        description: "The company of the customer"
      - name: Address
        description: "The address of the customer"
      - name: City
        description: "The city of the customer"
      - name: State
        description: "The state of the customer"
      - name: Country
        description: "The country of the customer"
      - name: PostalCode
        description: "The postal code of the customer"
      - name: Phone
        description: "The phone of the customer"
      - name: Fax
        description: "The fax of the customer"
      - name: Email
        description: "The email of the customer"
      - name: _cust_full_name
        description: "The full name of the customer"

  - name: stg_chin__employees
    description: "This model contains information about employees from the support"
    columns:
      - name: EmployeeId
        description: "Primary key, unique identifier for each employee"
        tests:
            - unique
            - not_null
      - name: ReportsTo
        description: "Foreign key linking the employees to their managers"
        tests:
          - relationships:
              name: reports_to_foreign_key_in_stg_chin__report_from_emp
              to: ref('stg_chin__report_from_emp')
              field: EmployeeId
      - name: LastName
        description: "The last name of the employee"
      - name: FirstName
        description: "The first name of the employee"
      - name: Title
        description: "The title of the employee"
      - name: _converted_birthdate
        description: "The bithday date of the employee"
      - name: _converted_hiredate
        description: "The hiredate date of the employee"
      - name: Address
        description: "The address of the employee"
      - name: City
        description: "The city of the employee"
      - name: State
        description: "The state of the employee"
      - name: Country
        description: "The country of the employee"
      - name: PostalCode
        description: "The postal code of the employee"
      - name: Phone
        description: "The phone number of the employee"
      - name: Fax
        description: "The fax of the employee"
      - name: Email
        description: "The email of the employee"
      - name: _emp_fullname
        description: "The full name of the employee"

  - name: stg_chin__genre
    description: "This model contains details of products available for sale, primarily focusing on information about the product's volume and size."
    columns:
      - name: GenreId
        description: "Primary key, unique identifier for each genre of music."
        tests:
            - unique
            - not_null
      - name: Name
        description: "The label of the genre"
      - name: _cleaned_name
        description: "The label of the genre with the first letter in upper case"
      - name: _nb_char_name
        description: "The number of characters of the genre"

  - name: stg_sales_database__seller
    description: "This model contains information about the sellers who provide the products."
    columns:
      - name: seller_id
        description: "Primary key, unique identifier for each seller."
        tests:
            - unique
            - not_null

  - name: stg_sales_database__user
    description: "This model contains user-related information, including where they live."
    columns:
      - name: user_id
        description: "Primary key, unique identifier for each user."
        tests:
            - unique
            - not_null
